"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===n&&o.firstChild?o.insertBefore(s,o.firstChild):o.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}('.connect-button{background:#111;border:none;border-radius:10px;color:#fff;cursor:pointer;height:50px;outline:none;position:relative;width:220px;z-index:0}.connect-button:before{animation:glowing 20s linear infinite;background:linear-gradient(45deg,red,#ff7300,#fffb00,#48ff00,#00ffd5,#002bff,#7a00ff,#ff00c8,red);background-size:400%;border-radius:10px;content:"";filter:blur(5px);height:calc(100% + 4px);left:-2px;opacity:0;position:absolute;top:-2px;transition:opacity .3s ease-in-out;width:calc(100% + 4px);z-index:-1}.connect-button:hover:before{opacity:1}.connect-button:after{background:#111;border-radius:10px;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:-1}@keyframes glowing{0%{background-position:0 0}50%{background-position:400% 0}to{background-position:0 0}}');exports.Button=({isEVM:t})=>{const[o,s]=e.useState(""),[a,c]=e.useState("Connect Wallet");let i;if(0==t){const t=async()=>{try{const{solana:e}=window;if(e&&e.isPhantom){console.log("Phantom Wallet Exist");const t=await e.connect({onlyIfTrusted:!0});console.log("Connected with Public Key:",t.publicKey.toString()),s(t.publicKey.toString())}else console.log("Download Phantom"),c("Download Phantom Wallet")}catch(e){console.log(e)}},n=async()=>{try{const{solana:e}=window;if(e&&e.isPhantom){console.log("Phantom Wallet Exist");const t=await e.connect();console.log("Connected with Public Key:",t.publicKey.toString()),s(t.publicKey.toString()),c("Connected To: "+o.substring(0,3)+"..."+o.substring(o.length-3,o.length))}else console.log("Download Phantom"),c("Download Phantom Wallet")}catch(e){console.log(e)}};e.useEffect((()=>{const e=async()=>{await t()};return window.addEventListener("load",e),()=>window.removeEventListener("load",e)}),[]),e.useEffect((()=>{c("Connected To: "+o.substring(0,3)+"..."+o.substring(o.length-3,o.length))}),[o]),i=n}else if(1==t){const t=async()=>{const{ethereum:e}=window;if(e){c("Connecting...");const t=await e.request({method:"eth_requestAccounts"});if(0!==t.length){const e=t[0];s(e),c("Connected To: "+o.substring(0,3)+"..."+o.substring(o.length-3,o.length)),console.log("Connected To: ",e)}else console.log("Please authorize an account")}else console.log("Make sure you have MetaMask"),c("Download MetaMask")},n=async()=>{const{ethereum:e}=window;if(!e)return console.log("Make sure you have MetaMask"),void c("Download MetaMask");console.log("We have the ethereumn object",e);const t=await e.request({method:"eth_accounts"});if(0!==t.length){const e=t[0];console.log("Found an authorized account: ",e),s(e),c("Connected To: "+o.substring(0,3)+"..."+o.substring(o.length-3,o.length))}else console.log("No authorized accoutn found");const n=await e.request({method:"eth_chainId"});console.log("Chain ID: ",n),e.on("chainChanged",handleChainChanged)};e.useEffect((()=>{const e=async()=>{await n()};return window.addEventListener("load",e),()=>window.removeEventListener("load",e)}),[]),e.useEffect((()=>{c("Connected To: "+o.substring(0,3)+"..."+o.substring(o.length-3,o.length))}),[o]),i=t}return n.default.createElement("button",{className:"connect-button",onClick:i},a)};
