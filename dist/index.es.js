import e,{useState as o,useEffect as n}from"react";!function(e,o){void 0===o&&(o={});var n=o.insertAt;if(e&&"undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&t.firstChild?t.insertBefore(a,t.firstChild):t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}('.connect-button{background:#111;border:none;border-radius:10px;color:#fff;cursor:pointer;height:50px;outline:none;position:relative;width:220px;z-index:0}.connect-button:before{animation:glowing 20s linear infinite;background:linear-gradient(45deg,red,#ff7300,#fffb00,#48ff00,#00ffd5,#002bff,#7a00ff,#ff00c8,red);background-size:400%;border-radius:10px;content:"";filter:blur(5px);height:calc(100% + 4px);left:-2px;opacity:0;position:absolute;top:-2px;transition:opacity .3s ease-in-out;width:calc(100% + 4px);z-index:-1}.connect-button:hover:before{opacity:1}.connect-button:after{background:#111;border-radius:10px;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:-1}@keyframes glowing{0%{background-position:0 0}50%{background-position:400% 0}to{background-position:0 0}}');const t=({isEVM:t})=>{const[a,i]=o(""),[s,c]=o("Connect Wallet");let l;if(0==t){const e=async()=>{try{const{solana:e}=window;if(e&&e.isPhantom){console.log("Phantom Wallet Exist");const o=await e.connect({onlyIfTrusted:!0});console.log("Connected with Public Key:",o.publicKey.toString()),i(o.publicKey.toString())}else console.log("Download Phantom"),c("Download Phantom Wallet")}catch(e){console.log(e)}},o=async()=>{try{const{solana:e}=window;if(e&&e.isPhantom){console.log("Phantom Wallet Exist");const o=await e.connect();console.log("Connected with Public Key:",o.publicKey.toString()),i(o.publicKey.toString()),c("Connected To: "+a.substring(0,3)+"..."+a.substring(a.length-3,a.length))}else console.log("Download Phantom"),c("Download Phantom Wallet")}catch(e){console.log(e)}};n((()=>{const o=async()=>{await e()};return window.addEventListener("load",o),()=>window.removeEventListener("load",o)}),[]),n((()=>{c("Connected To: "+a.substring(0,3)+"..."+a.substring(a.length-3,a.length))}),[a]),l=o}else if(1==t){const e=async()=>{const{ethereum:e}=window;if(e){c("Connecting...");const o=await e.request({method:"eth_requestAccounts"});if(0!==o.length){const e=o[0];i(e),c("Connected To: "+a.substring(0,3)+"..."+a.substring(a.length-3,a.length)),console.log("Connected To: ",e)}else console.log("Please authorize an account")}else console.log("Make sure you have MetaMask"),c("Download MetaMask")},o=async()=>{const{ethereum:e}=window;if(!e)return console.log("Make sure you have MetaMask"),void c("Download MetaMask");console.log("We have the ethereumn object",e);const o=await e.request({method:"eth_accounts"});if(0!==o.length){const e=o[0];console.log("Found an authorized account: ",e),i(e),c("Connected To: "+a.substring(0,3)+"..."+a.substring(a.length-3,a.length))}else console.log("No authorized accoutn found");const n=await e.request({method:"eth_chainId"});console.log("Chain ID: ",n),e.on("chainChanged",handleChainChanged)};n((()=>{const e=async()=>{await o()};return window.addEventListener("load",e),()=>window.removeEventListener("load",e)}),[]),n((()=>{c("Connected To: "+a.substring(0,3)+"..."+a.substring(a.length-3,a.length))}),[a]),l=e}return e.createElement("button",{className:"connect-button",onClick:l},s)};export{t as Button};
